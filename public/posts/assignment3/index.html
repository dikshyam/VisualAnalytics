<!DOCTYPE html>
<html lang="en">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.55.5" />

    
    
    

<title>Assignment 3 • Dikshya Mohanty</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Assignment 3"/>
<meta name="twitter:description" content="Purpose: To perform cluster analysis to identify potential business for orthopedic material sales Description: The objective of this study is to find ways to increase sales of orthopedic material from our company to hospitals in the United States. The data include information about over 4000 hospitals. Below is the data dictionary:
ZIP: US POSTAL CODE HID: HOSPITAL ID CITY: CITY NAME STATE: STATE NAME BEDS: NUMBER OF HOSPITAL BEDS RBEDS: NUMBER OF REHAB BEDS OUT-V: NUMBER OF OUTPATIENT VISITS ADM: ADMINISTRATIVE COST (In $1000&rsquo;s per year) SIR: REVENUE FROM INPATIENT SALESY: SALES OF REHABILITATION EQUIPMENT SINCE JAN 1 SALES12: SALES OF REHAB."/>

<meta property="og:title" content="Assignment 3" />
<meta property="og:description" content="Purpose: To perform cluster analysis to identify potential business for orthopedic material sales Description: The objective of this study is to find ways to increase sales of orthopedic material from our company to hospitals in the United States. The data include information about over 4000 hospitals. Below is the data dictionary:
ZIP: US POSTAL CODE HID: HOSPITAL ID CITY: CITY NAME STATE: STATE NAME BEDS: NUMBER OF HOSPITAL BEDS RBEDS: NUMBER OF REHAB BEDS OUT-V: NUMBER OF OUTPATIENT VISITS ADM: ADMINISTRATIVE COST (In $1000&rsquo;s per year) SIR: REVENUE FROM INPATIENT SALESY: SALES OF REHABILITATION EQUIPMENT SINCE JAN 1 SALES12: SALES OF REHAB." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/assignment3/" />
<meta property="og:site_name" content="Title" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.6a83d62c39a364f036df4db1ecd564645635d6c7fc182425cb501218fec485f5.css" integrity="sha256-aoPWLDmjZPA2302x7NVkZFY11sf8GCQly1ASGP7EhfU=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="/">Dikshya Mohanty</a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="/img/dp1.jpg" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
        
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Dikshya Mohanty</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/education/">
						<span>Education</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/professionalsummary/">
						<span>Professional Summary</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/projects/">
						<span>Projects</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	
	
	<a href="https://github.com/Dikshyam" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	<a href="https://instagram.com/dikshyamohanty_" rel="me"><i class="fab fa-instagram fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://linkedin.com/in/dikshya-mohanty-79b61ba3" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	<a href="mailto:dmohanty@uncc.edu" rel="me"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2019 htr3n
  
    <a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a>
  
</div>


<div class="builtwith">
Built with <a href="https://gohugo.io">Hugo</a> ❤️ <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
</div>


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Assignment 3</h1>
    
    
<div class="post__meta">
    
    
    
    
    
    
    <br/>
    <i class="fas fa-clock"></i> 5 min read
</div>


  </header>
  
  
  <div class="post">
    <p>Purpose: To perform cluster analysis to identify potential business for orthopedic material sales
Description: The objective of this study is to find ways to increase sales of orthopedic material from our company to hospitals in the United States. The data include information about over 4000 hospitals. Below is the data dictionary:</p>

<p>ZIP:  US POSTAL CODE
HID:  HOSPITAL ID
CITY:  CITY NAME
STATE:  STATE NAME
BEDS:  NUMBER OF HOSPITAL BEDS
RBEDS:  NUMBER OF REHAB BEDS
OUT-V:  NUMBER OF OUTPATIENT VISITS
ADM:  ADMINISTRATIVE COST (In $1000&rsquo;s per year)
SIR:  REVENUE FROM INPATIENT
SALESY:  SALES OF REHABILITATION EQUIPMENT SINCE JAN 1
SALES12:  SALES OF REHAB. EQUIP. FOR THE LAST 12 MO
HIP:  NUMBER OF HIP OPERATIONS FOR TWO YEARS AGO
KNEE:  NUMBER OF KNEE OPERATIONS FOR TWO YEARS AGO
TH:  TEACHING HOSPITAL?  0, 1
TRAUMA:  DO THEY HAVE A TRAUMA UNIT?  0, 1
REHAB:  DO THEY HAVE A REHAB UNIT?  0, 1
HIP12:  NUMBER HIP OPERATIONS FOR THE LAST 12 MO
KNEE12:  NUMBER KNEE OPERATIONS FOR THE LAST 12 MO
FEMUR12:  NUMBER FEMUR OPERATIONS FOR THE LAST 12 MO</p>

<p>Instructions: Please follow these steps:
1.  In Canvas, navigate to Assignments and then Assignment4
2.  Download and save the data set hospital_ortho.csv
3.  Read the file:</p>

<p>data &lt;- fread(&ldquo;hospital_ortho.csv&rdquo;, sep=&ldquo;,&rdquo;, header=T, strip.white = T, na.strings = c(&ldquo;NA&rdquo;,&ldquo;NaN&rdquo;,&ldquo;&rdquo;,&ldquo;?&rdquo;))</p>

<ol>
<li>The original data includes hospitals across the US. However, we can only sell our products in NC and the nearby states of SC, VA, GA, and TN. Use the following code to narrow down the data to hospitals in these states.
nc_data &lt;- data[(data$state == &ldquo;NC&rdquo;) | (data$state == &ldquo;SC&rdquo;) | (data$state == &ldquo;VA&rdquo;) | (data$state == &ldquo;GA&rdquo;) | (data$state == &ldquo;TN&rdquo;)]
4.1.    (3 points) Look at each individual variable and decide if it should be included in cluster analysis. For those variables that you decide not to include, give your reasons for exclusion.
These are the variables that I opted to not include in my data:
zip:  US POSTAL CODE
hid:  HOSPITAL ID
city:  CITY NAME
state:  STATE NAME
th:  TEACHING HOSPITAL?  0, 1
trauma:  DO THEY HAVE A TRAUMA UNIT?  0, 1
rehab:  DO THEY HAVE A REHAB UNIT?  0, 1
These are 7 variables that I opted not to include in my data.
Because zip, hid, city and state are specific and cannot be used in calculation distance between them.
In the case of th, trauma, rehab they are binary variables and cannot be used in clustering.</li>
</ol>

<p>4.2.    (3 points) Do you need to scale this data? Why?</p>

<ol>
<li>Perform k-means clustering:
5.1.    (3 points) Use “Within Groups SSE” to determine the number of clusters for k-means. How many clusters you would like to create?
5.2.    (3 points) Paste the “Within Groups SSE” plot in the space below:</li>
</ol>

<p>5.3.    (3 points) Perform k-means clustering using the number of clusters you recommended in 5.1. How many hospitals fall in each cluster?
5.4.    (3 points) Create a two-dimensional representation of the clusters and paste it below:</p>

<ol>
<li>Perform Hierarchical clustering.
6.1.    (4 points) Try different hierarchical clustering and paste the dendrograms in the space below:</li>
</ol>

<p>6.2.    (3 points) Determine which hierarchical clustering method would be more appropriate for this data. Why?
6.3.    (3 points) Based on hierarchical clustering results, how many clusters do you find in this data?
6.4.    (3 points) Paste the dendrogram that you chose with the red borders around the clusters in the space below:</p>

<ol>
<li><p>Perform DBSCAN cluster analysis:
7.1.    (7 points) First, you need to determine minPts. The rule of thumb for minPts is the number of dimensions of the data + 1. Suggest a method to determine the number of dimensions of this data? Implement your method and suggest a good minPts.
7.2.    (3 points) Based on your suggested minPts, determine the eps. Explain your recommendation for eps.
7.3.    (3 points) Perform DBSCAN clustering using the minPts and eps that you recommended. How many clusters DBSCAN returns?
7.4.    (3 points) How many noise points it returns?
7.5.    (3 points) Create a two-dimensional representation of DBSCAN cluster(s) and paste it in the space below:</p></li>

<li><p>Perform principal component analysis on the original data (nc_data). Then select the number of principal components based on PCs variance plot. Let’s call the number of PCs n_pc. Then we can use the best PCs instead of the data to perform cluster analysis. To do this, run:</p></li>
</ol>

<p>pca_data &lt;- predict(pca, newdata = nc_data)
pc_df &lt;- as.data.frame(scale(pca_data[,c(1:n_pc)]))  # replace n_pc with the number of PCs you recommend.</p>

<p>8.1.    (10 points) Repeat your analysis in question 5 using the new pc_df. What is the best k? Paste the two-dimensional representation in the space below:</p>

<p>8.2.    (10 points) Repeat your analysis in question 6 using the new pc_df. What is the best method? What is the best k? Paste the dendrogram in the space below:</p>

<p>8.3.    (10 points) Repeat your analysis in question 7 using the new pc_df. What is the best minPts? What is the best eps? How many clusters DBSCAN returns? Perform the DBSCAN clustering and paste the two-dimensional representation in the space below:</p>

<ol>
<li>For each hospital, determine the cluster (based on pc_df) to which they belong. Then determine the value of &ldquo;sales12&rdquo;,&ldquo;rbeds&rdquo;,&ldquo;hip12&rdquo;,&ldquo;knee12&rdquo;, and &ldquo;femur12&rdquo; for each cluster for each clustering method (e.g. k-means, hierarchical, DBSCAN). To do this, you need to run the following lines:</li>
</ol>

<p>pc_df$kmeans &lt;- k.means.fit$cluster
pc_df $hclust &lt;- groups # these groups are created in hierarchical clustering
pc_df $db &lt;- db$cluster
pc_df $hid &lt;- nc_data$hid # Add hospital id to pc_df data
final_data &lt;- merge(x=pc_df, y=nc_data, key=&ldquo;hid&rdquo;)
aggregate(final_data[,c(&ldquo;sales12&rdquo;,&ldquo;rbeds&rdquo;,&ldquo;hip12&rdquo;,&ldquo;knee12&rdquo;,&ldquo;femur12&rdquo;)], list(final_data$kmeans), mean)
aggregate(final_data[,c(&ldquo;sales12&rdquo;,&ldquo;rbeds&rdquo;,&ldquo;hip12&rdquo;,&ldquo;knee12&rdquo;,&ldquo;femur12&rdquo;)], list(final_data$hclust), mean)
aggregate(final_data[,c(&ldquo;sales12&rdquo;,&ldquo;rbeds&rdquo;,&ldquo;hip12&rdquo;,&ldquo;knee12&rdquo;,&ldquo;femur12&rdquo;)], list(final_data$db), mean)</p>

<p>9.1.    (20 points) Based on these results for each clustering method (e.g. k-means, hierartchical, and DBSCAN), recommend which cluster we should immediately reach out to. Give your reasons.</p>

  </div>
  

<div class="navigation navigation-single">
    
    
    <a href="/posts/assignment1/" class="navigation-next">
      <span class="navigation-tittle">Assignment 1</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.5.0/js/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>


    
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
    
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    




    



    </body>
</html>
